{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"content\">\n    <up-search placeholder=\"搜索\" bg-color=\"#e3e3e3\" v-model=\"keyword\"></up-search>\n    <view class=\"swiper\">\n      <up-swiper :list=\"bannerList\" keyName=\"image\" showTitle radius=\"8\" :autoplay=\"true\" height=\"160\"></up-swiper>\n    </view>\n    <up-notice-bar text=\"这是一个公告.\" mode=\"closable\"></up-notice-bar>\n\t\n    <view class=\"list\">\n      <up-waterfall v-model=\"flowList\">\n        <template v-slot:left=\"{leftList}\">\n          <view class=\"demo-water\" v-for=\"(item, index) in leftList\" :key=\"index\">\n            <up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\n            <view class=\"demo-title\">{{ item.title }}</view>\n            <view class=\"demo-times\">{{ item.times }}</view>\n            <view class=\"demo-tag\">\n              <view class=\"demo-tag-owner\">{{ item.tag[0] }}</view>\n              <view class=\"demo-tag-text\">{{ item.tag[1] }}</view>\n            </view>\n            <view class=\"isDot\" v-if=\"item.isDot\">{{ item.isDot }}</view>\n          </view>\n        </template>\n        <template v-slot:right=\"{rightList}\">\n          <view class=\"demo-water\" v-for=\"(item, index) in rightList\" :key=\"index\">\n            <up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\n            <view class=\"demo-title\">{{ item.title }}</view>\n            <view class=\"demo-times\">{{ item.times }}</view>\n            <view class=\"demo-tag\">\n              <view class=\"demo-tag-owner\">{{ item.tag[0] }}</view>\n              <view class=\"demo-tag-text\">{{ item.tag[1] }}</view>\n            </view>\n            <view class=\"isDot\" v-if=\"item.isDot\">{{ item.isDot }}</view>\n          </view>\n        </template>\n      </up-waterfall>\n    </view>\n  </view>\n\t\n  <view class=\"topClass\" v-if=\"showTopBtn\" @click=\"Totop\">\n    <up-icon name=\"arrow-upward\" color=\"#ffff\" size=\"28\"></up-icon>\n  </view>\n</template>\n\n<script setup>\n  import { ref } from 'vue';\n  import { getBanner, getHomeList } from '../../api/api';\n  import { onLoad, onReachBottom, onPageScroll } from '@dcloudio/uni-app'\n  \n  const keyword = ref(\"\")\n  const bannerList = ref([])\n  const flowList = ref([])\n  \n  const showTopBtn = ref(0)\n  \n  onLoad(() => {\n    getBanner().then(res => {\n      bannerList.value = res.bannerList\n    })\n    getHomeList().then(res => {\n      flowList.value = Array.isArray(res) ? res : []\n    })\n  })\n  \n  onReachBottom(() => {\n    setTimeout(() => {\n      addRadomData()\n    }, 1000)\n  })\n    \n  const addRadomData = () => {\n    for (let i = 0; i < 10; i++) {\n      if (flowList.value.length === 0) return\n      \n      let index = uni.$u.random(0, flowList.value.length - 1)\n      let item = flowList.value[index]\n      item.id = uni.$u.guid()\n      flowList.value.push(item)\n    }\n  }\n  \n  onPageScroll((e) => {\n    if (e.scrollTop > 600) {\n      showTopBtn.value = 1\n    } else {\n      showTopBtn.value = 0\n    }\n  })\n</script>\n\r\n<style>\r\n\tpage{\r\n\t\tbackground-color: rgb(240,250,240);\r\n\t}\r\n</style>\r\n\n<style lang=\"scss\">\n  .content {\n    padding: 20rpx;\n  }\n  .content .swiper {\n    margin: 20rpx 0;\n  }\n  \n  .list {\n    margin: 30rpx 0;\n    .demo-water {\n      margin: 10rpx;\n      background-color: #fff;\n      border-radius: 16rpx;\n      padding: 16rpx;\n      position: relative;\n    }\n    .demo-title {\n      font-size: 30rpx;\n      margin-top: 10rpx;\n      color: #333;\n    }\n    .demo-times {\n      font-size: 24rpx;\n      color: #777;\n      margin-top: 10rpx;\n    }\n    .demo-tag {\n      display: flex;\n      margin-top: 10rpx;\n      .demo-tag-owner {\n        border: 1px solid rgb(255, 163, 129);\n        color: #ffaa00;\n        font-size: 20rpx;\n        display: flex;\n        align-items: center;\n        padding: 4rpx 14rpx;\n        border-radius: 50rpx;\n      }\n      .demo-tag-text {\n        border: 1px solid #00aaff;\n        color: #00aaff;\n        font-size: 20rpx;\n        display: flex;\n        align-items: center;\n        padding: 4rpx 14rpx;\n        border-radius: 50rpx;\n      }\n    }\n    .isDot {\n      position: absolute;\n      top: 20rpx;\n      right: 20rpx;\n      font-size: 24rpx;\n      color: #fff;\n      line-height: 32rpx;\n      background-color: #ff0000;\n      text-align: center;\n      border-radius: 10rpx;\n      padding: 10rpx;\n    }\n  }\n  .topClass {\n    position: fixed;\n    bottom: 100rpx;\n    right: 20rpx;\n    background-color: rgba(0, 0, 0, 0.5);\n    padding: 20rpx;\n    width: 64rpx;\n    height: 64rpx;\n    border-radius: 60rpx;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n</style>","import MiniProgramPage from 'D:/Desktop/uni-app/Pro/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","getBanner","getHomeList","onReachBottom","uni","onPageScroll","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA4CA,UAAA,UAAAA,cAAA,IAAA,EAAA;AAKA,UAAA,aAAAA,cAAA,IAAA,EAAA;AACA,UAAA,WAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,aAAAA,cAAA,IAAA,CAAA;AAEAC,kBAAAA,OAAA,MAAA;AACAC,wBAAA,EAAA,KAAA,SAAA;AACA,mBAAA,QAAA,IAAA;AAAA,MACA,CAAA;AACAC,0BAAA,EAAA,KAAA,SAAA;AACA,iBAAA,QAAA,MAAA,QAAA,GAAA,IAAA,MAAA,CAAA;AAAA,MACA,CAAA;AAAA,IACA,CAAA;AAEAC,kBAAAA,cAAA,MAAA;AACA,iBAAA,MAAA;AACA,qBAAA;AAAA,MACA,GAAA,GAAA;AAAA,IACA,CAAA;AAEA,UAAA,eAAA,MAAA;AACA,eAAA,IAAA,GAAA,IAAA,IAAA,KAAA;AACA,YAAA,SAAA,MAAA,WAAA;AAAA;AAEA,YAAA,QAAAC,oBAAA,GAAA,OAAA,GAAA,SAAA,MAAA,SAAA,CAAA;AACA,YAAA,OAAA,SAAA,MAAA,KAAA;AACA,aAAA,KAAAA,oBAAA,GAAA,KAAA;AACA,iBAAA,MAAA,KAAA,IAAA;AAAA,MACA;AAAA,IACA;AAEAC,kBAAA,aAAA,CAAA,MAAA;AACA,UAAA,EAAA,YAAA,KAAA;AACA,mBAAA,QAAA;AAAA,MACA,OAAA;AACA,mBAAA,QAAA;AAAA,MACA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFA,GAAG,WAAWC,SAAe;"}