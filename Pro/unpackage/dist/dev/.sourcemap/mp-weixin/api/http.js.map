{"version":3,"file":"http.js","sources":["api/http.js"],"sourcesContent":["let baseUrl = \"https://m1.apifoxmock.com/m1/4728220-0-default/api/user/getBanner\"\r\n\r\nexport default function http(url, data ={}, method=\"GET\"){\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\turl:url + url,\r\n\t\t\tdata,\r\n\t\t\tmethod,\r\n\t\t\theader:{\r\n\t\t\t\t\"token\":uni.getStorageSync(\"token\") || \"\"\r\n\t\t\t},\r\n\t\t\tsuccess: res =>{\r\n\t\t\t\tif(res.statusCode == 200){\r\n\t\t\t\t\tif(res.data.code == 1){\r\n\t\t\t\t\t\tresolve(res.data.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treject(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail:() =>{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:\"服务器请求失败\",\r\n\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAEe,SAAS,KAAK,KAAK,OAAM,CAAA,GAAI,SAAO,OAAM;AACxD,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACX,KAAI,MAAM;AAAA,MACV;AAAA,MACA;AAAA,MACA,QAAO;AAAA,QACN,SAAQA,cAAG,MAAC,eAAe,OAAO,KAAK;AAAA,MACvC;AAAA,MACD,SAAS,SAAM;AACd,YAAG,IAAI,cAAc,KAAI;AACxB,cAAG,IAAI,KAAK,QAAQ,GAAE;AACrB,oBAAQ,IAAI,KAAK,IAAI;AAAA,UACrB,OACG;AACHA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM,IAAI,KAAK;AAAA,cACf,MAAK;AAAA,YACZ,CAAO;AACD,mBAAO,IAAI,KAAK,GAAG;AAAA,UACnB;AAAA,QACD;AAAA,MACD;AAAA,MACD,MAAK,MAAK;AACTA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,QACV,CAAK;AAAA,MACD;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AACF;;"}